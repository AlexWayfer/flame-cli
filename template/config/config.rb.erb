# frozen_string_literal: true

require_relative '../application'

## Threads (for mails)
Thread.abort_on_exception = true

using GorillaPatch::Inflections

<%= @short_module_name %>::Application.config.instance_exec do
	%i[server session site].each do |config_name|
		load_yaml config_name
	end

	[
		'Logger'
		# 'R18n'
		# 'Mail'
		# 'Sequel'
		# 'Money'
		# 'Shrine'
	].each do |processor_name|
		require_relative "processors/#{processor_name.underscore}"
		<%= @short_module_name %>::ConfigProcessors.const_get(processor_name).new self
	end
end
